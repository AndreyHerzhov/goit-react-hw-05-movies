{"version":3,"file":"static/js/693.90d4d48a.chunk.js","mappings":"uSAEaA,EAAQC,EAAAA,GAAAA,GAAH,uJAQLC,EAAOD,EAAAA,GAAAA,EAAH,8C,SCqEjB,EAzEgB,WACZ,OAA0BE,EAAAA,EAAAA,UAAS,CAC/BC,QAAS,GACTC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAKOC,GAAWC,EAAAA,EAAAA,MAAXD,SAEPE,EAAAA,EAAAA,YAAU,WAEN,IAAMC,EAAU,mCAAG,2FACXJ,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,EACTC,MAAO,MAHO,IADP,mBAQUQ,EAAAA,EAAAA,IAAeL,GARzB,OAQLM,EARK,OAUVP,GAAS,SAAAK,GACN,OAAO,kBACAA,GADP,IAEIT,SAAQ,OAAOW,EAAOC,KAAKC,UAElC,IAfU,gDAkBXC,QAAQC,IAAR,MAlBW,yBAqBXX,GAAS,SAAAK,GACL,OAAO,kBACAA,GADP,IAEIR,SAAS,GAGhB,IA3BU,4EAAH,qDA8BhBO,GACH,GAAE,CAACH,IAGN,IAAQL,EAAYG,EAAZH,QAEFgB,EAAWhB,EAAQiB,KAAI,gBAAEC,EAAF,EAAEA,OAAOC,EAAT,EAASA,QAASC,EAAlB,EAAkBA,GAAlB,OAC3B,2BACG,UAACxB,EAAD,sBAAgBsB,MAChB,SAACpB,EAAD,UAAOqB,MAFDC,EADkB,IAQ3B,OACG,+BACA,UAAC,EAAAC,SAAD,WAGErB,EAAQsB,OAAS,IAClB,iCACA,qCAAgB,wBACHN,OAIZhB,IAAW,+BAAE,6CAIrB,C,4MC1EKuB,EAAU,mCAChBC,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAWD,IAAAA,OAAa,CAC1BE,QAAS,+BACTC,OAAQ,CACJC,QAASL,EACTM,OAAQ,MAIHC,EAAgB,mCAAG,WAAOC,GAAP,gGAELP,IAAM,gBAAiB,CAC5CG,OAAQ,CACNC,QAASL,EACTS,MAAOD,KALiB,cAEtBE,EAFsB,yBASrBA,GATqB,gCAW5BnB,QAAQC,IAAR,MAX4B,yDAAH,sDA8BhBmB,EAAY,mCAAG,WAAMd,GAAN,gGAECI,IAAM,UAAD,OAAWJ,GAAM,CAC3CO,OAAQ,CACNC,QAASL,KAJS,cAEhBU,EAFgB,yBAQfA,GARe,gCAUtBnB,QAAQC,IAAR,MAVsB,yDAAH,sDAeZoB,EAAS,mCAAG,2GAAMC,EAAN,+BAAc,EAAd,SACAX,EAASY,IAAI,sBAAuB,CACrDV,OAAQ,CACJC,QAASL,EACTa,MAAAA,KAJa,uBACdxB,EADc,EACdA,KADc,kBAOdA,GAPc,2CAAH,qDAUT0B,EAAc,mCAAG,WAAMlB,GAAN,gGAEHI,IAAM,UAAD,OAAWJ,EAAX,YAAyB,CACnDO,OAAQ,CACNC,QAASL,KAJa,cAEpBU,EAFoB,yBAQnBA,GARmB,gCAU1BnB,QAAQC,IAAR,MAV0B,yDAAH,sDAcdL,EAAc,mCAAG,WAAMU,GAAN,gGAEHI,IAAM,UAAD,OAAWJ,EAAX,YAAyB,CACnDO,OAAQ,CACNC,QAASL,KAJa,cAEpBU,EAFoB,yBAQnBA,GARmB,gCAU1BnB,QAAQC,IAAR,MAV0B,yDAAH,qD,iFC9EZ,SAASwB,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,EAClD,CDES,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMM,KAAKH,EACtH,CFGmC,CAAgBJ,KAAQ,EAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,uIACtB,CHG8F,EAC9F,C","sources":["pages/Reviews/Reviews.styled.js","pages/Reviews/Reviews.jsx","shared/api/movies.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Title = styled.h2`\nfont-size: 18px;\nfont-family: 'Courier New', Courier, monospace;\nfont-weight: 500;\nmargin-top: 20px;\nmargin-bottom: 20px;\n`\n\nexport const Text = styled.p`\nmargin-bottom: 20px;\n`","import { useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { getReviewsByID } from \"shared/api/movies\"\nimport { Text, Title } from \"./Reviews.styled\"\nimport {   Suspense } from \"react\";\n\nconst Reviews = () => {\n    const [state, setState] = useState({\n        reviews: [],\n        loading: false,\n        error: null\n    })\n    const {movieId} = useParams()\n\n    useEffect(() => {\n     \n        const fetchPosts = async() => {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: true,\n                    error: null,\n    \n                }))\n            try {\n                const result = await getReviewsByID(movieId);\n                //  console.log(result)\n                 setState(prevState => {\n                    return {\n                        ...prevState,\n                        reviews:   [...result.data.results]\n                    }\n                })\n               \n            } catch (error) {\n                console.log(error)\n            }\n            finally {\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        loading: false,\n\n                    }\n                })\n            }\n        }\n        fetchPosts() \n    }, [movieId]\n  )\n \n  const { reviews } = state\n    \n  const elements = reviews.map(({author,content, id}) => (\n    <li key={id}>\n       <Title>Author: {author}</Title>\n       <Text>{content}</Text>\n    </li>\n))  \n \n \n    return ( \n       <>\n       <Suspense>\n        \n     \n        {reviews.length > 0 && \n        <>\n        <h2>Reviews</h2><ul>\n                    {elements}\n                </ul>\n        </>\n        }\n        {reviews && <><h1>No reviews</h1></>}  \n        </Suspense>\n       </>\n    )\n}\n\n\nexport default Reviews","import axios from \"axios\";\n\nconst API_KEY = '799d796b985f1f6ed2e5b2e723499181';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\",\n    params: {\n        api_key: API_KEY,\n        _limit: 10,\n    }\n})\n\nexport const getMoviesByQuery = async (q) => {\n  try {\n    const response = await axios('/search/movie', {\n      params: {\n        api_key: API_KEY,\n        query: q,\n      },\n    });\n\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport const getGenres = async () => {\n    try {\n      const genres = await axios('/genre/movie/list', {\n        params: {\n          api_key: API_KEY,\n          \n        },\n      });\n\n      return genres.data.genres;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\nexport const getMovieByID = async(id) => {\n    try {\n      const response = await axios(`/movie/${id}`, {\n        params: {\n          api_key: API_KEY,\n        }\n      });\n\n      return response;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n\nexport const getMovies = async(_page = 1) => {\n    const {data} = await instance.get(\"/trending/movie/day\", {\n        params: {\n            api_key: API_KEY,\n            _page,\n        }\n    })\n    return data;\n}\n\nexport const getCreditsByID = async(id) => {\n  try {\n    const response = await axios(`/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      }\n    });\n\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport const getReviewsByID = async(id) => {\n  try {\n    const response = await axios(`/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      }\n    });\n\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["Title","styled","Text","useState","reviews","loading","error","state","setState","movieId","useParams","useEffect","fetchPosts","prevState","getReviewsByID","result","data","results","console","log","elements","map","author","content","id","Suspense","length","API_KEY","axios","instance","baseURL","params","api_key","_limit","getMoviesByQuery","q","query","response","getMovieByID","getMovies","_page","get","getCreditsByID","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}